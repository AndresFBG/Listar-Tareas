<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro</title>
    <link rel="stylesheet" href="home.css">
    <!-- Font Awesome for the eye icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Fallback Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <div class="container-register">
        <div class="form-container">
            <h1>¬°Es hora de empezar!</h1>
            <p>Completa los campos y forma parte de nosotros.</p>
            <br>
            
            <!-- Registration form with the corresponding IDs -->
            <form id="registerForm">
                <input type="text" id="username" placeholder="Nombres" required>
                <input type="text" id="lastname" placeholder="Apellidos" required>
                
                <label for="brithdate">Fecha de Nacimiento</label>
                <input type="date" id="brithdate" placeholder="Fecha de nacimiento" max="2006-12-31" required>
                
                <input type="email" id="email" placeholder="Correo electr√≥nico" required>
                
                <!-- Password field with toggle button -->
                <div class="password-container">
                    <input type="password" id="password" placeholder="Contrase√±a" required>
                    <button type="button" class="toggle-password" id="toggleRegisterPassword">
                        <span class="eye-icon">üëÅ</span>
                    </button>
                </div>
                
                <!-- Confirm password field with toggle button -->
                <div class="password-container">
                    <input type="password" id="confirmPassword" placeholder="Confirmar contrase√±a" required>
                    <button type="button" class="toggle-password" id="toggleConfirmRegisterPassword">
                        <span class="eye-icon">üëÅ</span>
                    </button>
                </div>
                
                <button type="submit">¬°Unirme ahora!</button>
                <p id="registerMsg"></p>
            </form>
            <br>
            <p>¬øYa tienes una cuenta? <a href="#/home">Acceder</a></p>
        </div>
    </div>
    
    <!-- Modal to display the successful registration message -->
    <div id="successModal" class="modal" style="display:none;">
        <div class="modal-content">
            <div class="modal-header">Registro Exitoso</div>
            <p>¬°Te has registrado exitosamente!</p>
            <button id="closeModal" class="btn-close">Cerrar</button>
        </div>
    </div>
    
    <footer class="footer">
        <nav class="footer-nav">
            <a href="#/home">Acceder</a>
            <span>|</span>
            <a href="#/board">Home</a>
            <span>|</span>
            <a href="#/about-us">Nosotros</a>
        </nav>
        <p class="footer-copy">
            &copy; 2025. Sitio web desarrollado por NEXTSTEP Todos los derechos reservados.
        </p>
    </footer>

    <!-- Script to detect Font Awesome and set the maximum date -->
    <script>
        //Set maximum date (18 years ago)
        window.addEventListener('DOMContentLoaded', function() {
            const today = new Date();
            const eighteenYearsAgo = new Date(today.getFullYear() - 18, today.getMonth(), today.getDate());
            const maxDate = eighteenYearsAgo.toISOString().split('T')[0];
            document.getElementById('brithdate').setAttribute('max', maxDate);
            
            // Check if Font Awesome is available
            const testIcon = document.createElement('i');
            testIcon.className = 'fas fa-eye';
            testIcon.style.display = 'none';
            document.body.appendChild(testIcon);
            
            setTimeout(() => {
                const computed = window.getComputedStyle(testIcon, ':before');
                const fontAwesome = computed.getPropertyValue('font-family').includes('Font Awesome');
                document.body.removeChild(testIcon);
                
                if (fontAwesome) {
                    // Font Awesome is loaded, use FA icons
                    document.querySelectorAll('.eye-icon').forEach(span => {
                        span.innerHTML = '<i class="fas fa-eye"></i>';
                    });
                } else {
                    // Font Awesome is not loaded, keep emojis
                    console.warn('Font Awesome no pudo cargar, usando iconos de fallback');
                }
            }, 100);
        });
    </script>
</body>
</html>