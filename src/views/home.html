<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login</title>
    <link rel="stylesheet" href="home.css" />
    <!-- Font Awesome para los iconos de ojo -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Fallback Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>
    <div class="container-login">
        <div class="form-container">
            <h1>¬°Hola de nuevo!</h1>
            <h2>Acceso a la cuenta</h2>

            <form id="loginForm">
                <input
                    type="email"
                    id="email"
                    placeholder="Correo electr√≥nico"
                    required
                />
                
                <!-- Password field with toggle button -->
                <div class="password-container">
                    <input
                        type="password"
                        id="password"
                        placeholder="Contrase√±a"
                        required
                    />
                    <button type="button" class="toggle-password" id="toggleLoginPassword">
                        <span class="eye-icon">üëÅ</span>
                    </button>
                </div>

                <button type="submit">Vamos a iniciar</button>
            </form>

            <!-- Container for error or success messages -->
            <div id="loginMsg"></div>

            <p>¬øNecesitas una cuenta?&nbsp;<a href="#/register">Crear cuenta</a></p>

            <!-- Link to recover password -->
            <p>
                ¬øProblemas para acceder?&emsp;<a href="#/forgot">Restablecer contrase√±a</a>
            </p>
        </div>
        
        <div class="image-container">
            <img src="image_login.svg" alt="Imagen de Login" />
        </div>
    </div>

    <!-- Warning modal for login required -->
    <div id="loginRequiredModal" class="modal" style="display: none">
        <div class="modal-content">
            <p>Inicia sesi√≥n para poder continuar.</p>
            <button id="closeLoginRequiredModal">Cerrar</button>
        </div>
    </div>

    <footer class="footer">
        <nav class="footer-nav">
            <a href="#/home">Acceder</a>
            <span>|</span>
            <a href="#/board">Home</a>
            <span>|</span>
            <a href="#/about-us">Nosotros</a>
        </nav>
        <p class="footer-copy">
            &copy; 2025. Sitio web desarrollado por NEXTSTEP Todos los derechos reservados.
        </p>
    </footer>

    <!-- Script to detect Font Awesome and handle toggle -->
    <script>
        // Check if Font Awesome is available
        window.addEventListener('DOMContentLoaded', function() {
            const testIcon = document.createElement('i');
            testIcon.className = 'fas fa-eye';
            testIcon.style.display = 'none';
            document.body.appendChild(testIcon);
            
            setTimeout(() => {
                const computed = window.getComputedStyle(testIcon, ':before');
                const fontAwesome = computed.getPropertyValue('font-family').includes('Font Awesome');
                document.body.removeChild(testIcon);
                
                if (fontAwesome) {
                    // Font Awesome is loaded, use FA icons
                    document.querySelectorAll('.eye-icon').forEach(span => {
                        span.innerHTML = '<i class="fas fa-eye"></i>';
                    });
                } else {
                    // Font Awesome is not loaded, keep emojis
                    console.warn('Font Awesome no pudo cargar, usando iconos de fallback');
                }
            }, 100);
        });
    </script>
</body>